(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter})}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=10)})([function(module,exports,__webpack_require__){"use strict";var css={css:function css(dom,name,val){var styleObj,r,o,s,a,l,h,c;var R=function R(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})};var _isArray=Array.isArray||function(t){return t instanceof Array};var F=function F(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()};var H={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1};var V=function V(name,val){return"number"!=typeof val||H[F(name)]?val:val+"px"};if(dom){if(arguments.length<3){styleObj=getComputedStyle(dom,"");if(typeof name=="string"){return dom.style[R(name)]||styleObj.getPropertyValue(name)}if(_isArray(name)){for(l={},h=0,s=name.length;h<s;h++){a=name[h];l[a]=dom.style[R(a)]||styleObj.getPropertyValue(a)}return l}}if(r="","string"==typeof name){return dom.style[F(name)]=val||0===val?V(name,val):""}c=[];for(o in name){c.push(name[o]||0===name[o]?dom.style[F(o)]=V(o,name[o]):dom.style[F(o)]="")}return c}}};module.exports=css},function(module,exports,__webpack_require__){"use strict";var Frame=__webpack_require__(4);Frame.extend(__webpack_require__(9));Frame.extend(__webpack_require__(6));Frame.extend(__webpack_require__(0));Frame.extend(__webpack_require__(5));Frame.extend(__webpack_require__(3));Frame.extend(__webpack_require__(8));Frame.extend(__webpack_require__(2));module.exports=Frame},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function AJAX(){}AJAX.prototype={ajax:function ajax(options,isEncode){var _=this;_.isEncode=isEncode===false?isEncode:true;_.url=options.url||"";_.type=(options.type||"get").toLowerCase();_.data=options.data||null;_.contentType=options.contentType||"";_.dataType=(options.dataType||"").toLowerCase();_.async=options.async===undefined?true:options.async;_.timeOut=options.timeOut;_.headers=options.headers||{};_.before=options.before||function(){};_.error=options.error||function(){};_.success=options.success||function(){};_.callbackName=options.callback||"callback";_.timeout_bool=false;_.timeout_flag=null;_.xhr=null;_.isEncode&&_.setData();_.before();if(_.dataType==="jsonp"){_.createJsonp()}else{_.createXHR()}},encodeData:function encodeData(name,value,parentName){var items=[];name=parentName===undefined?name:parentName+"["+name+"]";if((typeof value==="undefined"?"undefined":_typeof(value))==="object"&&value!==null){items=items.concat(this.setObjData(value,name))}else{name=encodeURIComponent(name);value=encodeURIComponent(value);items.push(name+"="+value)}return items},setObjData:function setObjData(data,parentName){var arr=[],value;if(Object.prototype.toString.call(data)=="[object Array]"){for(var i=0,len=data.length;i<len;i++){value=data[i];arr=arr.concat(this.encodeData((typeof value==="undefined"?"undefined":_typeof(value))=="object"?i:"",value,parentName))}}else if(Object.prototype.toString.call(data)=="[object Object]"){for(var key in data){value=data[key];arr=arr.concat(this.encodeData(key,value,parentName))}}return arr},setStrData:function setStrData(data){var arr=data.split("&");try{for(var i=0,len=arr.length;i<len;i++){name=encodeURIComponent(arr[i].split("=")[0]);value=encodeURIComponent(arr[i].split("=")[1]);arr[i]=name+"="+value}}catch(e){console.log("e",e)}return arr},setData:function setData(){var _=this;if(!_.data||_.dataType==="protobuf"){return}if(typeof _.data==="string"){_.data=_.setStrData(_.data)}else if(_typeof(_.data)==="object"){if(_.dataType==="json"){_.data=JSON.stringify(_.data);return}else{_.data=_.setObjData(_.data)}}_.data=_.data.join("&").replace("/%20/g","+");if(_.type==="get"||_.dataType==="jsonp"){_.url+=_.url.indexOf("?")>-1?_.url.indexOf("=")>-1?"&"+_.data:_.data:"?"+_.data}},createJsonp:function createJsonp(){var _=this;var script=document.createElement("script"),timeName=(new Date).getTime()+Math.round(Math.random()*1e3),callback="JSONP_"+timeName;window[callback]=function(data){clearTimeout(_.timeout_flag);document.getElementsByTagName("head")[0].removeChild(script);_.success(data)};script.src=_.url+(_.url.indexOf("?")>-1?"&":"?")+_.callbackName+"="+callback;script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);_.setTime(callback,script)},setTime:function setTime(callback,script){var _=this;if(_.timeOut!==undefined){_.timeout_flag=setTimeout(function(){if(_.dataType==="jsonp"){delete window[callback];document.getElementsByTagName("head")[0].removeChild(script)}else{_.timeout_bool=true;_.xhr&&_.xhr.abort()}},_.timeOut)}},getXHR:function getXHR(){if(window.XMLHttpRequest){return new XMLHttpRequest}else{var versions=["Microsoft","msxml3","msxml2","msxml1"];for(var i=0;i<versions.length;i++){try{var version=versions[i]+".XMLHTTP";return new ActiveXObject(version)}catch(e){}}}},createXHR:function createXHR(){var _=this;_.xhr=_.getXHR();_.xhr.open(_.type,_.url,_.async);if(_.dataType==="protobuf"){_.xhr.setRequestHeader("Content-Type","text/plain; charset=utf-8");_.xhr.responseType="arraybuffer"}else if(_.dataType==="json"){_.xhr.setRequestHeader("Content-Type","text/plain; charset=utf-8")}else if(_.contentType){_.xhr.setRequestHeader("Content-Type",_.contentType)}else if(_.type==="post"&&!_.contentType){_.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8")}for(var k in _.headers){_.xhr.setRequestHeader(k,_.headers[k])}_.xhr.onreadystatechange=function(){if(_.xhr.readyState===4){if(_.timeOut!==undefined){if(_.timeout_bool){return}clearTimeout(_.timeout_flag)}if(_.xhr.status>=200&&_.xhr.status<300||_.xhr.status==304){if(_.dataType==="protobuf"){_.success(_.hr.response)}else{_.success(_.xhr.responseText)}}else{_.error(_.xhr.status,_.xhr.statusText)}}};_.xhr.send(_.type==="get"?null:_.data);_.setTime()}};var ajax=function ajax(options,isEncode){var _a=new AJAX;_a.ajax(options,isEncode)};module.exports={ajax:ajax}},function(module,exports,__webpack_require__){"use strict";var attributes={attr:function attr(dom,k,v){if(arguments<2)return;if(!v){return dom.getAttribute(k)}else{dom.setAttribute(k,v)}},addClass:function addClass(dom,sClass){if(dom.className){if(!hasClass(obj,sClass)){dom.className+=" "+sClass}}else{dom.className=sClass}},removeClass:function removeClass(obj,sClass){var re=new RegExp("\\b"+sClass+"\\b");if(hasClass(obj,sClass)){obj.className=obj.className.replace(re,"").replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")}},hasClass:function hasClass(dom,sClass){var re=new RegExp("\\b"+sClass+"\\b");return re.test(dom.className)},toggleClass:function toggleClass(dom,e){return this.hasClass(dom,e)?this.removeClass(dom,e):this.addClass(dom,e)}};module.exports=attributes},function(module,exports,__webpack_require__){"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var Frame=function Frame(selector,context){return new Frame.fn.init(selector,context)};Frame.fn=Frame.prototype={constructor:Frame,init:function init(selector,context){if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){var match=null;if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)&&selector.length>=3){match=[null,selector,null]}else{match=regex.rquickExpr.exec(selector)}}else if(Frame.isFunction(selector)){Frame("document").ready(selector)}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return Frame.makeArray(selector,this)}};Frame.fn.init.prototype=Frame.fn;Frame.extend=Frame.fn.extend=function(){var deep,target,i,extend,key,src,_src,copy,copyIsArray;if(typeof arguments[0]==="boolean"){deep=arguments[0];target=arguments[1]||{};i=2}else{deep=false;target=arguments[0]||{};i=1}if((typeof target==="undefined"?"undefined":_typeof(target))!=="object"&&!Frame.isFunction()){target={}}if(arguments.length===i){target=this;i--}for(i;i<arguments.length;i++){if((extend=arguments[i])!==null){for(key in extend){src=target[key];copy=extend[key];if(target===copy){continue}if(deep&&copy&&(Frame.isPlainObject(copy)||(copyIsArray=Frame.isArray(copy)))){if(copyIsArray){copyIsArray=false;_src=src&&Frame.isArray(src)?src:[]}else{_src=src&&Frame.isPlaneObject(src)?src:{}}target[key]=Frame.extend(deep,_src,copy)}else if(copy!==undefined){target[key]=copy}}}}return target};module.exports=Frame},function(module,exports,__webpack_require__){"use strict";var css=__webpack_require__(0).css;var effects={show:function show(dom){css(dom,"display","")},hide:function hide(dom){css(dom,"display","none")}};module.exports=effects},function(module,exports,__webpack_require__){"use strict";var events={bind:function bind(obj,type,fn,i){if(typeof obj.addEventListener!=="undefined"){obj.addEventListener(type,fn,i)}else if(typeof obj.attachEvent!=="undefined"){obj.attachEvent("on"+type,function(){fn.call(obj,window.event)})}else{obj["on"+type]=fn}},unbind:function unbind(obj,type,fn){if(typeof obj.removeEventListener!=="undefined"){obj.removeEventListener(type,fn,false)}else if(typeof obj.detachEvent!=="undefined"){obj.detachEvent("on"+type)}else{obj["on"+type]=null}},on:function on(parentNode,eventName,selector,callback){var noSelector=false;if(!callback){noSelector=true;callback=selector}if(typeof callback!=="function"){return}events.bind(parentNode,eventName,handler,true);function handler(e){var e=e||window.event;var target=e.srcElement||e.target;if(noSelector||selector==="*"){callback&&callback(e)}else{findTarget(this,e,target,selector,callback)}}function hasClass(obj,sClass){var re=new RegExp("\\b"+sClass+"\\b");return re.test(obj.className)}function findTarget(obj,event,target,selector,callback){if(obj===target){return}var eventTarget,selectorTarget;if(selector.charAt(0)==="."){if(!target.className){return}selectorTarget=selector.substring(1);if(hasClass(target,selectorTarget)){eventTarget=selectorTarget}else{eventTarget=target.className}}else if(selector.charAt(0)==="#"){if(!target.id){return}eventTarget=target.id;selectorTarget=selector.substring(1)}else{eventTarget=target.nodeName.toLowerCase();selectorTarget=selector}if(eventTarget===selectorTarget){callback(target);!!event.stopPropagation?event.stopPropagation():event.cancelBubble=true;return}else{findTarget(obj,event,target.parentNode,selector,callback)}}},stopBubbleAndDefault:function stopBubbleAndDefault(e){try{e.stopImmediatePropagation()}catch(e){alert("请使用版本更高的浏览器！")}if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}if(e.preventDefault){e.preventDefault()}else{returnValue=false}},bindAll:function bindAll(eventArray){for(var i=0;i<eventArray.length;i++){var _dom=eventArray[i]["dom"]||document;var _type=eventArray[i]["type"]||"click";var _func=eventArray[i]["func"];if(!_func)break;var _bubble=eventArray[i]["bubble"]||false;this.bind(_dom,_type,_func,_bubble)}}};module.exports=events},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__=function(){var whitespace="[\\x20\\t\\r\\n\\f]";var regex={rtrim:new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rvalidchars:/^[\],:{}\s]*$/,rvalidescape:/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens:/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rvalidbraces:/(?:^|:|,)(?:\s*\[)+/g,rnotwhite:/\S/,rquickExpr:/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/};return regex}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){"use strict";var traverse={parents:function parents(dom,cn){if(!dom)return null;var p=dom.parentNode;while(p){if(this.hasClass(p,cn)){return p}p=p.parentNode}return null},parentsNodeByTagName:function parentsNodeByTagName(dom,cn){if(!dom)return null;var p=dom.parentNode;while(p){if(p.tagName===cn){return p}p=p.parentNode}return null},parentsTagName:function parentsTagName(dom,cn){if(!dom)return null;var p=dom.parentNode;while(p){if(p.tagName==cn){return true}p=p.parentNode}return false},next:function next(element){if(!element)return;var e=element.nextSibling;if(e==null){return null}if(e.nodeType==3){var two=domHandle.next(e);if(!two){return false}if(two.nodeType==1)return two}else{if(e.nodeType==1){return e}else{return false}}},prev:function prev(element){if(!element)return;var e=element.previousSibling;if(e==null){return null}if(e.nodeType==3){var two=domHandle.prev(e);if(!two){return false}if(two.nodeType==1)return two}else{if(e.nodeType==1){return e}else{return false}}}};module.exports=traverse},function(module,exports,__webpack_require__){"use strict";var regex=__webpack_require__(7);var utilities={class2type:{},type:function type(obj){return obj===null?String(obj):utilities.class2type[Object.prototype.toString.call(obj)]||"object"},isFunction:function isFunction(obj){return utilities.type(obj)==="function"},isArray:Array.isArray||function(obj){return utilities.type(obj)==="array"},isWindow:function isWindow(obj){return obj!==null&&obj.window===obj},isNumeric:function isNumeric(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},isPlainObject:function isPlainObject(obj){if(!obj||utilities.type!=="object"||obj.nodeType||utilities.isWindow(obj)){return false}try{if(obj.constructor&&!Object.prototype.hasOwnProperty.call(obj,"constructor")&&!Object.prototype.hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}for(var key in obj){}return key===undefined||Object.prototype.hasOwnProperty.call(obj,key)},isEmptyObject:function isEmptyObject(obj){for(var key in obj){return false}return true},trim:function trim(text){return(text||"").replace(regex.rtrim,"")},eval:function _eval(data){if(data&&rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},each:function each(obj,callback){if(obj.length===undefined||utilities.isFunction(obj)){for(var key in obj){if(callback.call(obj[key],key,obj[key])===false){break}}}else{for(var i=0;i<obj.length;i++){if(callback.call(obj[i],i,obj[i])===false){break}}}return obj},browser:{}};(function(utilities){var classList="Boolean Number String Function Array Date RegExp Object".split(" ");for(var i=0;i<classList.length;i++){utilities.class2type["[object "+classList[i]+"]"]=classList[i].toLowerCase()}})(utilities);(function(utilities){var ua=navigator.userAgent.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];var uaMatch={browser:match[1]||"",version:match[2]||"0"};var browser={};if(uaMatch.browser){browser[uaMatch.browser]=true;browser.version=uaMatch.version}if(browser.chrome){browser.webkit=true}else if(browser.webkit){browser.safari=true}utilities.browser=browser})(utilities);module.exports=utilities},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(1);var head=document.getElementsByTagName("head")[0],scriptsMap={};if(typeof encryptString=="undefined"){loadScript("//passport.58.com/rsa/ppt_security.js",function(){})}if(typeof Fingerprint2=="undefined"){loadScript("//j1.58cdn.com.cn/js/login/passport_fingerprint2.js",function(){})}if(typeof ppStore=="undefined"){loadScript("//j1.58cdn.com.cn/m58/m3/js/ppstore-m.js",function(){})}if(typeof Fingerprint=="undefined"){loadScript("//j1.58cdn.com.cn/m58/m3/js/ppfingerprint_m.js",function(){})}function loadScript(url,callback){if(url in scriptsMap)return;scriptsMap[url]=true;var script=document.createElement("script");if(script.readyState){script.onreadystatechange=function(){if(script.readyState==="loaded"||script.readyState==="complete"){script.onreadystatechange=null;callback()}}}else{script.onload=function(){callback()}}script.type="text/javascript";script.src=url;head.appendChild(script);return script}var validMobileFormat=function validMobileFormat(mobile){var numberRegStr=/^\d{11}$/;var regNum=new RegExp(numberRegStr);if(regNum.test(mobile)){var telRegStr=/^(13|14|15|16|17|18|19)\d{9}$/;var reg=new RegExp(telRegStr);if(reg.test(mobile)){return true}}return false};var checkMobileInput=function checkMobileInput(mobileInput,callback){if(typeof mobileInput==="undefined"||mobileInput.length==0){callback({code:-1,msg:"请输入手机号"});return false}else if(!validMobileFormat(mobileInput)){callback({code:-1,msg:"请填写正确的手机号"});return false}else{return true}};var getData=function getData(url,callback){var options={url:url,type:"get",dataType:"jsonp",callbackName:"callback",success:function success(res){callback(res)}};utils.ajax(options,1)};var MobileLogin=function MobileLogin(dt){var _this=this;this.source=dt.source?dt.source:"";this.vcodekey="";this.tokencode="";this.isSend=false;this.init=function(){var rsaUrl="//passport.58.com/rsa";getData(rsaUrl,function(result){result=result.data;_this.rsaExponent=result.rsaExponent;_this.rsaModulus=result.rsaModulus});var initUrl="//passport.58.com/mobile/m/init";getData(initUrl,function(result){result=result.data;_this.token=result.token;_this.totalTime=result.totalTime})};this.init()};MobileLogin.prototype={constructor:MobileLogin,getCode:function getCode(dt){var callback=dt.callback?dt.callback:function(){};var path=dt.path?dt.path:"";var codeType=dt.codeType?dt.codeType:0;var voicetype=dt.voicetype?dt.voicetype:"";var validcode=dt.validcode?dt.validcode:"";var mobile=dt.mobile?dt.mobile:"";var _this=this;if(checkMobileInput(mobile,callback)==true){var timespan=1411093327735-(new Date).getTime(),timesign=(new Date).getTime()+timespan;if(typeof fingerPrint!="undefined"){var fingerprint=fingerPrint.get()}var encryptMobile=encryptString(timesign+encodeURIComponent(mobile),_this.rsaExponent,_this.rsaModulus);var url=url="//passport.58.com/mobile/getcode?mobile="+encryptMobile+"&validcode="+validcode+"&source="+_this.source+"&vcodekey="+_this.vcodekey+"&token="+_this.token+"&voicetype="+voicetype+"&codetype="+codeType+"&fingerprint="+fingerprint+"&path="+path;var options={url:url,type:"get",dataType:"jsonp",callbackName:"callback",success:function success(result){if(result.code==0){_this.tokencode=result.data.tokencode;_this.isSendCode=true}else if(result.code==785){_this.vcodekey=result.data.vcodekey}callback(result)}};utils.ajax(options,1)}},freshValidateCode:function freshValidateCode(){var time=+new Date;var vcodeimgurl="//passport.58.com/validcode/get?vcodekey="+this.vcodekey+"&time="+time;return vcodeimgurl},loginCommit:function loginCommit(dt){var _this=this;var callback=dt.callback?dt.callback:function(){};var path=dt.path?dt.path:"http://my.58.com";var mobilecode=dt.mobilecode?dt.mobilecode:"";var mobile=dt.mobile?dt.mobile:"";if(checkMobileInput(mobile,callback)!=true)return;if(!this.isSendCode){callback({code:-1,msg:"请点击获取验证码按钮！"});return false}if(typeof mobilecode=="undefined"||mobilecode.length<5){callback({code:-1,msg:"请填写正确的手机确认码!"});return false}var timespan=1411093327735-(new Date).getTime(),timesign=(new Date).getTime()+timespan;var encryptMobile=encryptString(timesign+encodeURIComponent(mobile),this.rsaExponent,this.rsaModulus);if(typeof fingerPrint!="undefined"){var fingerprint=fingerPrint.get()}if(typeof Fingerprint2!="undefined"){var fp=new Fingerprint2;var finger2=fp.get()}else{var finger2=""}var url="//passport.58.com/mobile/m/login?mobile="+encryptMobile+"&mobilecode="+mobilecode+"&source="+this.source+"&token="+this.token+"&tokencode="+this.tokencode+"&fingerprint="+fingerprint+"&finger2="+finger2;var options={url:url,type:"get",dataType:"jsonp",callbackName:"callback",success:function success(result){if(result.code==0){if(typeof result.data!="undefined"&&typeof result.data.fingerprint!="undefined"){fingerPrint.set(result)}}else if(result.code==2||result.code==3){var warnkey=result.data.warnkey;var url="//passport.58.com/warn/ui?source="+_this.source+"&path="+encodeURIComponent(path)+"&warnkey="+warnkey+"&win=m";window.location.href=url;return}callback(result)}};utils.ajax(options,1)}};window.MobileLogin=MobileLogin}]);